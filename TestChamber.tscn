[gd_scene load_steps=8 format=4 uid="uid://do58ls2g1828j"]

[ext_resource type="PackedScene" uid="uid://dum4n1k0seyer" path="res://Player.tscn" id="1_6t5up"]
[ext_resource type="Script" path="res://TestChamber.cs" id="1_rckdy"]
[ext_resource type="Texture2D" uid="uid://vqbhxnffs1gv" path="res://Sprites/TileMap/TileSetAtlas.png" id="2_0sg0k"]
[ext_resource type="PackedScene" uid="uid://dgw446lkkku3m" path="res://Object.tscn" id="2_wahgm"]
[ext_resource type="PackedScene" uid="uid://b071211q0i05a" path="res://kanizsa_tri.tscn" id="3_wsnbr"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_kr5o7"]
texture = ExtResource("2_0sg0k")
texture_region_size = Vector2i(100, 100)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-50, -50, 50, -50, 50, -35.1213, -35.022, -34.1291, -35.6205, 50, -50, 50)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-50, -50, 50, -50, 50, -35.1213, -50, -34.8564)
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(50, -50, 50, 50, 35.1213, 50, 34.1291, -35.022, -50, -35.6205, -50, -50)
3:0/next_alternative_id = 9
3:0/0 = 0
3:0/0/probability = 0.2
3:0/5 = 5
3:0/5/transpose = true
3:0/5/probability = 0.2
3:0/6 = 6
3:0/6/flip_v = true
3:0/6/probability = 0.2
3:0/7 = 7
3:0/7/flip_h = true
3:0/7/probability = 0.2
3:0/8 = 8
3:0/8/flip_h = true
3:0/8/flip_v = true
3:0/8/probability = 0.2
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-50, 50, -50, -50, -35.1213, -50, -34.8564, 50)
1:1/0 = 0
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(50, -50, 50, 50, 35.1213, 50, 34.8564, -50)
3:1/next_alternative_id = 5
3:1/0 = 0
3:1/0/probability = 0.2
3:1/1 = 1
3:1/1/transpose = true
3:1/1/probability = 0.2
3:1/2 = 2
3:1/2/flip_v = true
3:1/2/probability = 0.2
3:1/3 = 3
3:1/3/flip_h = true
3:1/3/probability = 0.2
3:1/4 = 4
3:1/4/flip_h = true
3:1/4/flip_v = true
3:1/4/probability = 0.2
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-50, 50, -50, -50, -35.1213, -50, -34.1291, 35.022, 50, 35.6205, 50, 50)
1:2/0 = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(50, 50, -50, 50, -50, 35.1213, 50, 34.8564)
2:2/0 = 0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(50, 50, -50, 50, -50, 35.1213, 35.022, 34.1291, 35.6205, -50, 50, -50)
3:2/next_alternative_id = 5
3:2/0 = 0
3:2/0/probability = 0.2
3:2/1 = 1
3:2/1/transpose = true
3:2/1/probability = 0.2
3:2/2 = 2
3:2/2/flip_v = true
3:2/2/probability = 0.2
3:2/3 = 3
3:2/3/flip_h = true
3:2/3/probability = 0.2
3:2/4 = 4
3:2/4/flip_h = true
3:2/4/flip_v = true
3:2/4/probability = 0.2
0:3/next_alternative_id = 5
0:3/0 = 0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-50, 50, -50, -50, 50, -50, 50, 50, 35.3019, 50, 35.199, -34.9628, -34.8841, -35.1203, -34.8564, 50)
0:3/1 = 1
0:3/1/flip_v = true
0:3/1/physics_layer_0/polygon_0/points = PackedVector2Array(-50, -50, -50, 50, 50, 50, 50, -50, 35.3019, -50, 35.199, 34.9628, -34.8841, 35.1203, -34.8564, -50)
0:3/2 = 2
0:3/2/transpose = true
0:3/2/physics_layer_0/polygon_0/points = PackedVector2Array(50, -50, -50, -50, -50, 50, 50, 50, 50, 35.3019, -34.9628, 35.199, -35.1203, -34.8841, 50, -34.8564)
0:3/3 = 3
0:3/3/flip_h = true
0:3/3/transpose = true
0:3/3/physics_layer_0/polygon_0/points = PackedVector2Array(-50, -50, 50, -50, 50, 50, -50, 50, -50, 35.3019, 34.9628, 35.199, 35.1203, -34.8841, -50, -34.8564)
1:3/next_alternative_id = 2
1:3/0 = 0
1:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-50, 50, -50, -50, 50, -50, 50, 50, 35.3019, 50, 34.9134, -48.4368, -34.9134, -48.0833, -34.8564, 50)
1:3/1 = 1
1:3/1/transpose = true
1:3/1/physics_layer_0/polygon_0/points = PackedVector2Array(-50, -50, 50, -50, 50, 50, -50, 50, -50, 35.3019, 48.4368, 34.9134, 48.0833, -34.9134, -50, -34.8564)
2:3/0 = 0
3:3/next_alternative_id = 5
3:3/0 = 0
3:3/0/probability = 0.2
3:3/1 = 1
3:3/1/transpose = true
3:3/1/probability = 0.2
3:3/2 = 2
3:3/2/flip_v = true
3:3/2/probability = 0.2
3:3/3 = 3
3:3/3/flip_h = true
3:3/3/probability = 0.2
3:3/4 = 4
3:3/4/flip_h = true
3:3/4/flip_v = true
3:3/4/probability = 0.2

[sub_resource type="TileSet" id="TileSet_b562f"]
tile_size = Vector2i(100, 100)
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_kr5o7")

[node name="TestChamber" type="Node2D"]
script = ExtResource("1_rckdy")

[node name="TileMapLayer3" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAAAAAAAAAAAAAAPAAAAAAACAAAAAAAPAAgAAAACAAIAAAABAAAAAAABAAAAAAAOAAAAAAABAAAAAAACAAAAAAABAAAAAAADAAAAAAABAAAAAAAEAAAAAAABAAAAAAAFAAAAAAABAAAAAAAGAAAAAAABAAAAAAAHAAAAAAABAAMAAAAIAAAAAAABAAAAAAAJAAAAAAABAAAAAAAKAAAAAAABAAAAAAALAAAAAAABAAAAAAAMAAAAAAABAAAAAAANAAAAAAABAAAAAAAAAAEAAAAAAAEAAAAAAAIAAAAAAAEAAAAAAAMAAAAAAAEAAAAAAAQAAAABAAMAAQAAAAUAAAAAAAEAAAAAAAYAAAAAAAEAAAAAAAcAAAAAAAEAAAAPAAEAAAACAAEAAAAPAAIAAAACAAEAAAAPAAMAAAABAAMAAQAPAAQAAAACAAEAAAAPAAUAAAACAAEAAAAPAAYAAAACAAEAAAAPAAcAAAABAAMAAQAAAAgAAAAAAAIAAAABAAgAAAABAAIAAAACAAgAAAABAAIAAAADAAgAAAABAAMAAAAEAAgAAAABAAIAAAAFAAgAAAABAAIAAAAGAAgAAAABAAIAAAAHAAgAAAABAAIAAAAIAAgAAAABAAIAAAAJAAgAAAABAAIAAAAKAAgAAAABAAIAAAALAAgAAAABAAIAAAAMAAgAAAABAAIAAAANAAgAAAABAAIAAAAOAAgAAAABAAIAAAABAAEAAAABAAEAAAABAAIAAAABAAEAAAABAAMAAAABAAEAAAABAAQAAAABAAMAAQABAAUAAAABAAEAAAABAAYAAAABAAEAAAABAAcAAAABAAEAAAACAAEAAAABAAEAAAACAAIAAAABAAEAAAACAAMAAAABAAEAAAACAAQAAAAAAAMAAwACAAUAAAABAAEAAAACAAYAAAABAAEAAAACAAcAAAABAAEAAAADAAEAAAABAAEAAAADAAIAAAABAAEAAAADAAMAAAABAAEAAAADAAQAAAABAAEAAAADAAUAAAADAAEAAAADAAYAAAAAAAMAAAADAAcAAAABAAMAAAAEAAEAAAABAAEAAAAEAAIAAAABAAEAAAAEAAMAAAADAAAABwAEAAQAAAADAAMAAQAEAAUAAAABAAEAAAAEAAYAAAABAAEAAAAEAAcAAAABAAEAAAAFAAEAAAABAAEAAAAFAAIAAAABAAEAAAAFAAMAAAABAAEAAAAFAAQAAAABAAEAAAAFAAYAAAABAAEAAAAFAAcAAAABAAEAAAAGAAEAAAABAAEAAAAGAAIAAAABAAEAAAAGAAMAAAADAAMAAQAGAAQAAAABAAEAAAAGAAUAAAABAAEAAAAGAAYAAAABAAEAAAAGAAcAAAABAAEAAAAHAAEAAAABAAMAAAAHAAIAAAABAAMAAAAHAAMAAAABAAMAAAAHAAQAAAAAAAMAAQAHAAUAAAABAAEAAAAHAAYAAAABAAEAAAAHAAcAAAADAAMAAwAIAAEAAAABAAEAAAAIAAIAAAABAAEAAAAIAAMAAAABAAEAAAAIAAQAAAABAAEAAAAIAAUAAAABAAEAAAAIAAYAAAABAAEAAAAIAAcAAAABAAEAAAAJAAEAAAABAAEAAAAJAAIAAAABAAEAAAAJAAMAAAABAAEAAAAJAAQAAAABAAEAAAAJAAUAAAABAAEAAAAJAAYAAAABAAEAAAAJAAcAAAADAAIAAgAKAAEAAAABAAEAAAAKAAIAAAABAAEAAAAKAAMAAAABAAEAAAAKAAQAAAABAAEAAAAKAAUAAAABAAEAAAAKAAYAAAABAAEAAAAKAAcAAAABAAEAAAALAAEAAAABAAEAAAALAAIAAAABAAEAAAALAAMAAAAAAAMAAgALAAQAAAABAAEAAAALAAUAAAADAAIABAALAAYAAAABAAEAAAALAAcAAAABAAEAAAAMAAEAAAABAAEAAAAMAAIAAAABAAEAAAAMAAMAAAABAAMAAQAMAAQAAAABAAEAAAAMAAUAAAABAAEAAAAMAAYAAAABAAEAAAAMAAcAAAABAAEAAAANAAEAAAADAAMAAAANAAIAAAABAAEAAAANAAMAAAABAAMAAQANAAQAAAABAAEAAAANAAUAAAABAAEAAAANAAYAAAABAAEAAAANAAcAAAAAAAMAAgAOAAEAAAABAAEAAAAOAAIAAAABAAEAAAAOAAMAAAABAAMAAQAOAAQAAAABAAEAAAAOAAUAAAABAAEAAAAOAAYAAAABAAEAAAAOAAcAAAABAAMAAQAFAAUAAAABAAEAAAA=")
tile_set = SubResource("TileSet_b562f")

[node name="Player" parent="." instance=ExtResource("1_6t5up")]
position = Vector2(135, 587)
scale = Vector2(0.6, 0.6)
collision_mask = 17
Acc = 8000
FrictionRate = 80000.0

[node name="TipDown" parent="." instance=ExtResource("2_wahgm")]
position = Vector2(888, 416)
collision_layer = 12
collision_mask = 5

[node name="TopRight" parent="." instance=ExtResource("2_wahgm")]
position = Vector2(144, 824)
collision_layer = 12
collision_mask = 5
SetAnimation = "IdleLeft"

[node name="TopLeft" parent="." instance=ExtResource("2_wahgm")]
position = Vector2(301, 249)
collision_layer = 12
collision_mask = 5
SetAnimation = "IdleRight"

[node name="Kanizsa_Tri" parent="." instance=ExtResource("3_wsnbr")]
position = Vector2(410, 322)

[connection signal="CanPose" from="TipDown" to="Kanizsa_Tri" method="OnDragCanPose"]
[connection signal="CanPose" from="TopRight" to="Kanizsa_Tri" method="OnDragCanPose"]
[connection signal="CanPose" from="TopLeft" to="Kanizsa_Tri" method="OnDragCanPose"]
[connection signal="Completed" from="Kanizsa_Tri" to="." method="OnKanizsaCompleted"]
[connection signal="Completed" from="Kanizsa_Tri" to="TipDown" method="OnKanizsaTriCompleted"]
[connection signal="Completed" from="Kanizsa_Tri" to="TopRight" method="OnKanizsaTriCompleted"]
[connection signal="Completed" from="Kanizsa_Tri" to="TopLeft" method="OnKanizsaTriCompleted"]
